* {
    box-sizing: border-box;
}

body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    /* large pixel-block checkerboard background for a blocky/pixel look */
    background-color: #ffd9e5;
    background-image:
        linear-gradient(90deg, rgba(255, 195, 210, 1) 50%, rgba(255, 220, 230, 1) 50%),
        linear-gradient(0deg, rgba(255, 220, 230, 1) 50%, rgba(255, 195, 210, 1) 50%);
    background-size: 48px 48px, 48px 48px;
    background-position: 0 0, 24px 24px;
    font-family: "Pixelify Sans", sans-serif;
    color: #372133;
    position: relative;
    overflow: hidden;
}

/* soft floating hearts overlay */
body::before {
    content: "";
    position: fixed;
    inset: -40px;
    pointer-events: none;
    background-image:
        radial-gradient(circle at 10% 20%, rgba(255, 182, 193, 0.6) 0, transparent 55%),
        radial-gradient(circle at 80% 30%, rgba(255, 228, 225, 0.7) 0, transparent 55%),
        radial-gradient(circle at 20% 80%, rgba(255, 192, 203, 0.55) 0, transparent 55%),
        radial-gradient(circle at 90% 80%, rgba(255, 240, 245, 0.6) 0, transparent 55%);
    opacity: 0.65;
    animation: floatHearts 18s ease-in-out infinite alternate;
}

/* Floating background hearts that drift across screen */
.bg-heart {
    position: fixed;
    font-size: 24px;
    color: rgba(255, 105, 180, 0.25);
    pointer-events: none;
    z-index: 0;
    text-shadow: 0 0 8px rgba(255, 255, 255, 0.4);
    animation: driftHeart 12s linear infinite;
    font-family: "Pixelify Sans", sans-serif;
}

@keyframes driftHeart {
    0% {
        transform: translate3d(-20px, 100vh, 0) rotate(0deg) scale(0.8);
        opacity: 0;
    }
    10% {
        opacity: 0.3;
    }
    90% {
        opacity: 0.3;
    }
    100% {
        transform: translate3d(calc(var(--drift-x) * 1px), -100px, 0) rotate(360deg) scale(1.2);
        opacity: 0;
    }
}

/* Cursor trail hearts */
.cursor-heart {
    position: fixed;
    pointer-events: none;
    font-size: 16px;
    color: #ff6b8a;
    z-index: 9999;
    text-shadow: 0 0 6px rgba(255, 255, 255, 0.8);
    animation: cursorHeartFade 800ms ease-out forwards;
    font-family: "Pixelify Sans", sans-serif;
}

@keyframes cursorHeartFade {
    0% {
        transform: translate3d(0, 0, 0) scale(0.5);
        opacity: 1;
    }
    100% {
        transform: translate3d(0, -30px, 0) scale(1.2);
        opacity: 0;
    }
}

/* CRT scanline / glow overlay */
body::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background-image:
        linear-gradient(
            rgba(255, 255, 255, 0.10) 1px,
            rgba(0, 0, 0, 0.05) 2px,
            transparent 3px
        );
    background-size: 100% 3px;
    mix-blend-mode: soft-light;
    opacity: 0.55;
    animation: crtFlicker 1.8s ease-in-out infinite alternate;
}

@keyframes crtFlicker {
    0% {
        opacity: 0.4;
        transform: translateY(0);
    }
    100% {
        opacity: 0.7;
        transform: translateY(1px);
    }
}

@keyframes floatHearts {
    0% {
        transform: translate3d(0, 10px, 0) scale(1);
    }
    100% {
        transform: translate3d(0, -30px, 0) scale(1.05);
    }
}

/* Envelope Screen */
#envelope-container {
    text-align: center;
    cursor: pointer;
    position: relative;
    z-index: 1;
}

#envelope-container .envelope-text {
    margin-top: 18px;
    font-size: 26px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    text-shadow: 0 0 12px rgba(255, 255, 255, 0.7);
}

#envelope-container .envelope-text span {
    display: block;
    margin-top: 6px;
    font-size: 14px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    opacity: 0.9;
}

@keyframes pulse {
    0% {
        transform:scale(1);
        filter: drop-shadow(0 0 0 rgba(255, 182, 193, 0.2));
    }
    50% {
        transform: scale(1.08);
        filter: drop-shadow(0 0 14px rgba(255, 182, 193, 0.9));
    }
    100% {
        transform: scale(1);
        filter: drop-shadow(0 0 0 rgba(255, 182, 193, 0.2));
    }
}

#envelope{
    width: 220px;
    animation: pulse 1.6s infinite;
    cursor: pointer;
}

#letter-container{
    display: none;
    position:fixed;
    inset: 0;
    justify-content: center;
    align-items: center;
    background: radial-gradient(circle at top, rgba(255, 250, 253, 0.7), rgba(255, 228, 232, 0.7), rgba(255, 192, 203, 0.55));
    backdrop-filter: blur(2px);
}

.letter-window{
    width: 90vw;
    max-width: 800px;
    aspect-ratio: 3/2;
    padding: 20px 20px 0 20px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    background-image: url("window.png");
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    border-radius: 18px;
    gap: 4px;
    padding-top: 180px;

    transform: scale(1.1) translateY(10px);
    opacity: 0;
    box-shadow:
        0 18px 40px rgba(118, 55, 92, 0.45),
        0 0 0 1px rgba(255, 255, 255, 0.7);
    background-color: rgba(255, 248, 252, 0.74);
    transition: transform 0.6s ease, opacity 0.6s ease, box-shadow 0.6s ease;
}

.letter-window.open {
    transform: scale(1) translateY(0);
    opacity: 1;
}

h1 {
    font-family: "Dancing Script", cursive;
    font-size: 40px;
    margin:0;
    letter-spacing: 0.05em;
    color: #6b2747;
    text-shadow: 0 3px 8px rgba(255, 255, 255, 0.9);
}

#letter-subtitle {
    margin: 6px 0 10px;
    max-width: 540px;
    font-size: 16px;
    line-height: 1.4;
    color: #6b2747;
}

/* Cat */
.cat {
    width: 230px;
    margin: 8px 0 14px;
    transition: width 0.4s ease, transform 0.4s ease;
}

.letter-window.final .cat {
    width: 190px;
    transform: translateY(-4px);
}

/* buttons */
.buttons {
    display: flex;
    justify-content: center;
    gap: 30px;
    position: relative;
}

.no-wrapper{
    position:relative;
}

.btn {
    width: 120px;
    cursor: pointer;
    user-select: none;
}

.yes-btn {
    position: relative;
    z-index: 2;
    transform-origin: center center;
    transition: transform 0.3s ease;
}

.no-btn {
    z-index: 1;
    position: relative;
    transition: transform 0.15s ease;
    cursor: default;
}

.yes-btn:hover {
    transform: scale(1.08) translateY(-4px);
}

.yes-btn:active {
    transform: scale(0.98) translateY(1px);
}

.final-text{
    font-size: 22px;
    line-height: 1.4;
    text-align: center;
    display: inline-block;
    padding: 10px 20px;
    background-color: rgba(255,240,240,0.9);
    border-radius: 16px;
    margin-top: 14px;
    box-shadow: 0 8px 20px rgba(118, 55, 92, 0.35);
}

/* Slides layout */
.slide {
    position: fixed;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    opacity: 0;
    transform: scale(1.04) translateY(16px);
    pointer-events: none;
    transition: opacity 0.35s ease-out, transform 0.35s ease-out;
}

.slide.active {
    opacity: 1;
    transform: scale(1) translateY(0);
    pointer-events: auto;
}

.inner-card {
    width: 100%;
    max-width: 640px;
    padding: 32px 24px 28px;
    border-radius: 24px;
    background: linear-gradient(145deg, rgba(255, 250, 252, 0.95), rgba(255, 214, 230, 0.95));
    box-shadow:
        0 22px 45px rgba(118, 55, 92, 0.55),
        0 0 0 1px rgba(255, 255, 255, 0.8),
        0 0 40px rgba(255, 182, 193, 0.3);
    text-align: center;
    position: relative;
    overflow: hidden;
    animation: cardGlow 3s ease-in-out infinite alternate;
}

@keyframes cardGlow {
    0% {
        box-shadow:
            0 22px 45px rgba(118, 55, 92, 0.55),
            0 0 0 1px rgba(255, 255, 255, 0.8),
            0 0 40px rgba(255, 182, 193, 0.3);
    }
    100% {
        box-shadow:
            0 22px 45px rgba(118, 55, 92, 0.65),
            0 0 0 1px rgba(255, 255, 255, 0.9),
            0 0 60px rgba(255, 105, 180, 0.5);
    }
}

/* Typewriter for messages */
.typewriter {
    display: inline-block;
    white-space: nowrap;
    overflow: hidden;
    border-right: 2px solid rgba(255,255,255,0.9);
    animation: blinkCaret 1s step-end infinite;
}

@keyframes blinkCaret {
    50% { border-color: transparent; }
}

/* small pixelated accent hearts (generated by JS) */
.pixel-acc {
    width: 12px;
    height: 12px;
    background: #ff6181;
    image-rendering: pixelated;
    transform-origin: center;
    border-radius: 2px;
    box-shadow: 0 0 0 1px rgba(255,255,255,0.05) inset;
    will-change: transform, opacity;
}

@keyframes pixelAccRise {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(-48px) scale(1.6); opacity: 0; }
}

.pixel-acc.animate {
    animation: pixelAccRise 1100ms cubic-bezier(.2,.8,.2,1) forwards;
}

/* slightly stronger pixel feel for images */
.pixel-cat-img {
    width: 140px;
    image-rendering: pixelated;
    image-rendering: crisp-edges;
}

/* CSS Pixel Art Heart Decoration */
.pixel-heart-deco {
    position: fixed;
    width: 32px;
    height: 32px;
    background:
        radial-gradient(circle at 8px 8px, #ff6b8a 0, #ff6b8a 6px, transparent 6px),
        radial-gradient(circle at 24px 8px, #ff6b8a 0, #ff6b8a 6px, transparent 6px),
        linear-gradient(to bottom, transparent 0, transparent 8px, #ff6b8a 8px, #ff6b8a 24px, transparent 24px);
    background-size: 32px 32px;
    background-repeat: no-repeat;
    pointer-events: none;
    opacity: 0.2;
    animation: pixelHeartFloat 8s ease-in-out infinite;
    filter: drop-shadow(0 0 8px rgba(255, 107, 138, 0.4));
}

@keyframes pixelHeartFloat {
    0%, 100% {
        transform: translateY(0) rotate(0deg);
    }
    50% {
        transform: translateY(-20px) rotate(10deg);
    }
}

/* Screen-wide sparkle effect */
.sparkle {
    position: fixed;
    width: 4px;
    height: 4px;
    background: #fff;
    border-radius: 50%;
    pointer-events: none;
    box-shadow: 0 0 6px #fff, 0 0 12px #ffb3d9;
    animation: sparkleTwinkle 1s ease-out forwards;
}

@keyframes sparkleTwinkle {
    0% {
        transform: scale(0);
        opacity: 1;
    }
    50% {
        transform: scale(1.5);
        opacity: 1;
    }
    100% {
        transform: scale(0);
        opacity: 0;
    }
}

.pixel-card {
    border-radius: 18px;
    background:
        linear-gradient(180deg, #ff9aa8 0, #ff6d7b 12px, #ff9aa8 12px),
        repeating-linear-gradient(
            90deg,
            #ffcad4 0,
            #ffcad4 6px,
            #ff9aa8 6px,
            #ff9aa8 12px
        );
    box-shadow:
        0 0 0 4px #f4485a,
        0 0 0 8px #ffbfca,
        0 22px 45px rgba(118, 55, 92, 0.6);
}

.pixel-window-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 10px 2px;
    font-family: "Pixelify Sans", system-ui, sans-serif;
    font-size: 13px;
    letter-spacing: 0.16em;
    color: #5b101e;
}

.pixel-hearts-row {
    display: flex;
    justify-content: center;
    gap: 32px;
    font-size: 26px;
    color: #e3303f;
    margin-bottom: 8px;
}

.pixel-main {
    margin-top: 6px;
    padding: 14px 16px 8px;
    border-radius: 16px;
    background-image:
        linear-gradient(135deg, #ffc6d7 0, #ffb1c9 100%);
    box-shadow:
        inset 0 0 0 3px rgba(255, 234, 244, 0.7),
        inset 0 0 0 6px rgba(244, 92, 130, 0.3);
}

/* Compliment Box */
.compliment-box {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background: linear-gradient(135deg, rgba(255, 240, 245, 0.9), rgba(255, 228, 235, 0.9));
    border-radius: 999px;
    margin-bottom: 12px;
    box-shadow: 0 4px 12px rgba(118, 55, 92, 0.3);
    animation: complimentFloat 3s ease-in-out infinite;
}

.compliment-icon {
    font-size: 14px;
    animation: sparkleRotate 2s linear infinite;
}

.compliment-text {
    font-size: 14px;
    font-weight: 600;
    color: #6b2747;
    font-family: 'Dancing Script', cursive;
}

@keyframes complimentFloat {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-5px);
    }
}

@keyframes sparkleRotate {
    0%, 100% {
        transform: rotate(0deg) scale(1);
    }
    50% {
        transform: rotate(180deg) scale(1.2);
    }
}

#pixel-final {
    display: none;
}

.pixel-main.show-final #question-state {
    display: none;
}

.pixel-main.show-final #pixel-final {
    display: block;
}

.pixel-final {
    margin-top: 12px;
}

/* Celebration Container */
.celebration-container {
    margin: 20px auto;
    padding: 30px 20px;
    border-radius: 20px;
    background: linear-gradient(135deg, rgba(255, 240, 250, 0.95), rgba(255, 220, 240, 0.95));
    box-shadow: 
        0 8px 32px rgba(255, 105, 180, 0.3),
        inset 0 0 0 2px rgba(255, 255, 255, 0.5);
    position: relative;
    overflow: visible;
}

.celebration-hearts {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 20px;
}

.big-heart {
    font-size: 40px;
    animation: heartBeat 1.5s ease-in-out infinite;
    display: inline-block;
}

.big-heart:nth-child(1) {
    animation-delay: 0s;
}

.big-heart:nth-child(2) {
    animation-delay: 0.3s;
}

.big-heart:nth-child(3) {
    animation-delay: 0.6s;
}

@keyframes heartBeat {
    0%, 100% {
        transform: scale(1);
    }
    10%, 30% {
        transform: scale(1.2);
    }
    20%, 40% {
        transform: scale(1.1);
    }
}

.celebration-title {
    font-family: 'Dancing Script', cursive;
    font-size: clamp(32px, 6vw, 48px);
    color: #ff1493;
    margin: 15px 0;
    text-shadow: 
        0 0 10px rgba(255, 105, 180, 0.5),
        0 2px 4px rgba(0, 0, 0, 0.1);
    animation: titleGlow 2s ease-in-out infinite alternate;
}

@keyframes titleGlow {
    0% {
        text-shadow: 
            0 0 10px rgba(255, 105, 180, 0.5),
            0 2px 4px rgba(0, 0, 0, 0.1);
    }
    100% {
        text-shadow: 
            0 0 20px rgba(255, 105, 180, 0.8),
            0 0 30px rgba(255, 20, 147, 0.6),
            0 2px 4px rgba(0, 0, 0, 0.1);
    }
}

.romantic-message {
    margin: 20px 0;
}

.message-line {
    font-size: 18px;
    color: #8b1a5a;
    margin: 8px 0;
    font-weight: 600;
    animation: fadeInUp 0.8s ease-out forwards;
    opacity: 0;
}

.message-line:nth-child(1) {
    animation-delay: 0.3s;
}

.message-line:nth-child(2) {
    animation-delay: 0.6s;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Orbiting Hearts Ring */
.hearts-ring {
    position: relative;
    width: 160px;
    height: 160px;
    margin: 30px auto;
}

.orbit-heart {
    position: absolute;
    font-size: 24px;
    color: #ff6b9d;
    animation: orbit 8s linear infinite;
    text-shadow: 0 0 10px rgba(255, 105, 180, 0.6);
}

.orbit-heart.h1 { animation-delay: 0s; }
.orbit-heart.h2 { animation-delay: -1.33s; }
.orbit-heart.h3 { animation-delay: -2.66s; }
.orbit-heart.h4 { animation-delay: -4s; }
.orbit-heart.h5 { animation-delay: -5.33s; }
.orbit-heart.h6 { animation-delay: -6.66s; }

@keyframes orbit {
    0% {
        transform: rotate(0deg) translateX(80px) rotate(0deg);
    }
    100% {
        transform: rotate(360deg) translateX(80px) rotate(-360deg);
    }
}

.love-quote {
    margin-top: 25px;
    font-family: 'Dancing Script', cursive;
    font-size: 18px;
    color: #9d1f63;
    font-style: italic;
    line-height: 1.6;
}

.love-quote p {
    margin: 4px 0;
}

.pixel-grid {
    margin: 0 auto 12px;
    max-width: 320px;
    padding: 20px 16px 18px;
    border-radius: 14px;
    background:
        linear-gradient(90deg, #ffb5cb 25%, #ffc6d7 25%, #ffc6d7 50%, #ffb5cb 50%, #ffb5cb 75%, #ffc6d7 75%, #ffc6d7 100%),
        linear-gradient(#ffb5cb 25%, #ffc6d7 25%, #ffc6d7 50%, #ffb5cb 50%, #ffb5cb 75%, #ffc6d7 75%, #ffc6d7 100%);
    background-size: 20px 20px;
    background-position: 0 0, 10px 10px;
    box-shadow: inset 0 0 0 3px #ff8aa5;
}

.pixel-final-title {
    font-family: "Pixelify Sans", system-ui, sans-serif;
    font-size: 20px;
    margin: 0 0 8px;
    color: #3c0712;
}

.pixel-cat-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

.pixel-final-heart {
    color: #e3303f;
    font-size: 18px;
}

.pixel-cat-img {
    width: 140px;
    image-rendering: pixelated;
}

.pixel-date-bar {
    max-width: 360px;
    margin: 0 auto;
    padding: 8px 14px;
    border-radius: 999px;
    background: rgba(255, 240, 247, 0.9);
    box-shadow: 0 8px 18px rgba(118, 55, 92, 0.4);
    font-size: 14px;
}

.pixel-date-bar p {
    margin: 0;
}

.inner-card::before {
    content: "♡";
    position: absolute;
    font-size: 140px;
    color: rgba(255, 192, 203, 0.16);
    top: -40px;
    left: -10px;
    animation: floatBigHeart 7s ease-in-out infinite alternate;
}

.inner-card::after {
    content: "♡";
    position: absolute;
    font-size: 110px;
    color: rgba(255, 240, 245, 0.2);
    bottom: -45px;
    right: 10px;
     animation: floatBigHeart 6s ease-in-out infinite alternate-reverse;
}

@keyframes floatBigHeart {
    0% {
        transform: translateY(0) scale(1);
    }
    100% {
        transform: translateY(-8px) scale(1.03);
    }
}

.tiny-label {
    font-size: 13px;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    margin-bottom: 10px;
    color: #8c3f66;
    font-family: "Pixelify Sans", system-ui, sans-serif;
}

.big-intro {
    font-family: "Dancing Script", cursive;
    font-size: clamp(46px, 8vw, 60px);
    margin: 8px 0 0;
    color: #fffbff;
    text-shadow:
        0 0 12px rgba(255, 105, 180, 0.8),
        0 0 22px rgba(255, 182, 193, 0.9);
}

.intro-dots {
    margin: 4px 0 18px;
    letter-spacing: 0.18em;
    color: #ffe4f3;
}

.hint {
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 0.16em;
    color: #94456d;
    opacity: 0.9;
    animation: hintPulse 1.4s ease-in-out infinite alternate;
    font-family: "Pixelify Sans", system-ui, sans-serif;
}

@keyframes hintPulse {
    0% {
        transform: translateY(0);
        opacity: 0.7;
    }
    100% {
        transform: translateY(3px);
        opacity: 1;
    }
}

/* Slide 2 */
.photo-frame {
    width: 240px;
    height: 240px;
    margin: 10px auto 12px;
    border-radius: 18px;
    padding: 6px;
    background:
        radial-gradient(circle at top, #ffe6f3, #ffc1d9),
        repeating-linear-gradient(
            90deg,
            rgba(255, 255, 255, 0.55) 0,
            rgba(255, 255, 255, 0.55) 2px,
            transparent 2px,
            transparent 4px
        );
    box-shadow:
        0 15px 30px rgba(118, 55, 92, 0.4),
        0 0 0 4px rgba(255, 255, 255, 0.9);
    display: flex;
    justify-content: center;
    align-items: center;
}

.kuttan-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 14px;
    image-rendering: pixelated;
    animation: sway 2.3s steps(4, end) infinite alternate;
}

@keyframes sway {
    0% {
        transform: rotate(-4deg) translateY(3px);
    }
    50% {
        transform: rotate(3deg) translateY(-4px);
    }
    100% {
        transform: rotate(-3deg) translateY(2px);
    }
}

.caption {
    margin: 4px 0 18px;
    font-size: 16px;
    color: #6b2747;
}

.animated-text {
    display: inline-block;
    animation: fadeInSlide 1.5s ease-out forwards;
    opacity: 0;
}

@keyframes fadeInSlide {
    0% {
        opacity: 0;
        transform: translateY(15px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

.caption-and {
    margin: -10px 0 18px;
    font-size: 16px;
    color: #6b2747;
    opacity: 0;
    animation: fadeInSlide 1s ease-out 1.5s forwards;
}

.heart-chip {
    appearance: none;
    border: none;
    padding: 10px 24px;
    border-radius: 999px;
    background: linear-gradient(135deg, #ff7298, #ffb3cc);
    color: #fff;
    font-weight: 600;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    cursor: pointer;
    box-shadow: 0 10px 20px rgba(118, 55, 92, 0.5);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.heart-chip:hover {
    transform: translateY(-2px);
    box-shadow: 0 14px 26px rgba(118, 55, 92, 0.55);
}

.heart-chip:active {
    transform: translateY(1px) scale(0.98);
    box-shadow: 0 6px 14px rgba(118, 55, 92, 0.45);
}

/* Slide 3 */
.question-title {
    font-family: "Dancing Script", cursive;
    font-size: clamp(40px, 7vw, 54px);
    margin: 4px 0 6px;
    color: #6b2747;
}

.question-subtitle {
    font-size: 15px;
    max-width: 520px;
    margin: 0 auto 12px;
    color: #7a3559;
}

/* Love Meter */
.love-meter-container {
    margin: 16px auto 20px;
    max-width: 380px;
}

.love-meter-label {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 8px;
    color: #6b2747;
    text-shadow: 0 0 10px rgba(255, 182, 193, 0.6);
}

.love-meter-bar {
    width: 100%;
    height: 24px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 999px;
    overflow: hidden;
    box-shadow: 
        inset 0 2px 6px rgba(118, 55, 92, 0.3),
        0 0 0 2px rgba(255, 182, 193, 0.4);
    position: relative;
}

.love-meter-fill {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #ff5f8a, #ff9ec2, #ffb3d9);
    border-radius: 999px;
    transition: width 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    box-shadow: 0 0 12px rgba(255, 105, 180, 0.8);
    position: relative;
    overflow: hidden;
}

.love-meter-fill::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.love-meter-text {
    font-size: 12px;
    margin-top: 6px;
    color: #8c3f66;
    font-weight: 600;
}

/* Countdown Timer */
.countdown-container {
    margin: 16px auto 18px;
    padding: 12px 20px;
    background: rgba(255, 240, 250, 0.6);
    border-radius: 16px;
    border: 2px solid rgba(255, 182, 193, 0.5);
    box-shadow: 0 4px 12px rgba(118, 55, 92, 0.2);
}

.countdown-label {
    font-size: 13px;
    color: #8c3f66;
    margin-bottom: 6px;
    font-weight: 600;
}

.countdown-timer {
    font-size: 20px;
    font-weight: 700;
    color: #ff5f8a;
    text-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
    font-family: 'Pixelify Sans', monospace;
}

.valentine-buttons {
    margin-top: 6px;
    display: flex;
    justify-content: center;
    gap: 24px;
    position: relative;
    min-height: 60px;
}

.heart-btn {
    appearance: none;
    border: none;
    padding: 12px 30px;
    border-radius: 999px;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

.heart-btn.yes {
    background: linear-gradient(135deg, #ff5f8a, #ff9ec2);
    color: #fff;
    box-shadow: 0 10px 22px rgba(118, 55, 92, 0.55);
    animation: yesButtonPulse 2s ease-in-out infinite;
}

@keyframes yesButtonPulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 10px 22px rgba(118, 55, 92, 0.55);
    }
    50% {
        transform: scale(1.05);
        box-shadow: 0 12px 28px rgba(118, 55, 92, 0.7), 0 0 20px rgba(255, 105, 180, 0.4);
    }
}

.heart-btn.no {
    background: #ffe5ef;
    color: #8c3f66;
    box-shadow: 0 6px 16px rgba(118, 55, 92, 0.3);
    position: relative;
    transition: transform 0.08s linear, opacity 0.3s ease;
    animation: noButtonShake 0.5s ease-in-out infinite;
}

@keyframes noButtonShake {
    0%, 100% {
        transform: rotate(0deg);
    }
    25% {
        transform: rotate(-3deg);
    }
    75% {
        transform: rotate(3deg);
    }
}

.heart-btn.yes:hover {
    transform: translateY(-2px) scale(1.03);
    box-shadow: 0 14px 28px rgba(118, 55, 92, 0.6);
}

.heart-btn.yes:active {
    transform: translateY(1px) scale(0.97);
    box-shadow: 0 7px 16px rgba(118, 55, 92, 0.5);
}

.heart-btn.yes.grow {
    transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.answer-text {
    margin-top: 18px;
    font-size: 18px;
    color: #6b2747;
    opacity: 0;
    transform: translateY(8px);
    transition: opacity 0.4s ease, transform 0.4s ease;
}

.answer-text.show {
    opacity: 1;
    transform: translateY(0);
}

.no-attempts-text {
    margin-top: 12px;
    font-size: 14px;
    color: #ff6b8a;
    font-weight: 600;
    min-height: 20px;
    text-shadow: 0 0 8px rgba(255, 182, 193, 0.6);
    animation: bounce 0.5s ease;
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

/* Screen shake effect */
@keyframes screenShake {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    10% { transform: translate(-2px, 1px) rotate(-0.5deg); }
    20% { transform: translate(2px, -1px) rotate(0.5deg); }
    30% { transform: translate(-2px, 2px) rotate(-0.5deg); }
    40% { transform: translate(2px, -2px) rotate(0.5deg); }
    50% { transform: translate(-1px, 1px) rotate(-0.3deg); }
    60% { transform: translate(1px, -1px) rotate(0.3deg); }
    70% { transform: translate(-1px, -1px) rotate(-0.2deg); }
    80% { transform: translate(1px, 1px) rotate(0.2deg); }
    90% { transform: translate(-1px, 0px) rotate(-0.1deg); }
}

body.shake .slide.active {
    animation: screenShake 0.5s ease;
}

/* Floating pixel hearts when she says yes */
.floating-heart {
    position: fixed;
    font-size: 18px;
    color: #ff8fb3;
    pointer-events: none;
    text-shadow:
        0 0 6px rgba(255, 255, 255, 0.9),
        0 0 12px rgba(255, 105, 180, 0.9);
    animation: heartRise 1.4s steps(4, end) forwards;
    font-family: "Pixelify Sans", system-ui, sans-serif;
}

@keyframes heartRise {
    0% {
        transform: translate3d(0, 0, 0) scale(1);
        opacity: 1;
    }
    100% {
        transform: translate3d(0, -70px, 0) scale(1.4);
        opacity: 0;
    }
}

/* Confetti poppers when she says yes */
.confetti-piece {
    position: fixed;
    width: 10px;
    height: 10px;
    background: #ff5060;
    border-radius: 2px;
    pointer-events: none;
    opacity: 0.95;
    transform-origin: center;
    animation: confettiFall 2s cubic-bezier(0.23, 1, 0.32, 1) forwards;
    box-shadow: 0 0 4px rgba(255, 255, 255, 0.5);
}

.confetti-piece.alt {
    background: #ff9b73;
}

.confetti-piece.heart {
    background: transparent;
    color: #ff6b8a;
    font-size: 14px;
    width: auto;
    height: auto;
}

.confetti-piece.heart::before {
    content: "♥";
}

.confetti-piece.circle {
    border-radius: 50%;
    background: #ffd700;
}

.confetti-piece.square {
    background: #ff69b4;
}

@keyframes confettiFall {
    0% {
        transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
        opacity: 1;
    }
    60% {
        opacity: 1;
    }
    100% {
        transform: translate3d(var(--dx), var(--dy), 0) rotate(var(--rotate)) scale(0.5);
        opacity: 0;
    }
}

/* ========================================
   RESPONSIVE MEDIA QUERIES
   ======================================== */

/* Mobile Phones (Portrait) */
@media (max-width: 640px) {
    body {
        background-size: 32px 32px, 32px 32px;
        background-position: 0 0, 16px 16px;
    }
    
    .slide {
        padding: 12px;
    }
    
    .inner-card {
        max-width: 100%;
        padding: 24px 16px 20px;
        border-radius: 18px;
    }
    
    .pixel-heart-deco {
        width: 24px;
        height: 24px;
        display: none; /* Hide on very small screens */
    }
    
    /* Slide 1 */
    .big-intro {
        font-size: clamp(36px, 10vw, 48px);
    }
    
    .hint {
        font-size: 12px;
    }
    
    /* Slide 2 */
    .photo-frame {
        width: 180px;
        height: 180px;
    }
    
    .caption {
        font-size: 14px;
    }
    
    .heart-chip {
        padding: 8px 18px;
        font-size: 13px;
    }
    
    /* Slide 3 */
    .pixel-window-header {
        font-size: 11px;
        padding: 3px 8px 2px;
    }
    
    .pixel-hearts-row {
        gap: 20px;
        font-size: 22px;
        margin-bottom: 6px;
    }
    
    .pixel-main {
        padding: 10px 12px 6px;
    }
    
    .compliment-box {
        padding: 6px 12px;
        margin-bottom: 10px;
    }
    
    .compliment-text {
        font-size: 13px;
    }
    
    .compliment-icon {
        font-size: 12px;
    }
    
    .question-title {
        font-size: clamp(32px, 8vw, 44px);
    }
    
    .question-subtitle {
        font-size: 13px;
        margin: 0 auto 10px;
    }
    
    .love-meter-container {
        margin: 12px auto 16px;
    }
    
    .love-meter-label {
        font-size: 13px;
    }
    
    .love-meter-bar {
        height: 20px;
    }
    
    .love-meter-text {
        font-size: 11px;
    }
    
    .valentine-buttons {
        gap: 16px;
        flex-wrap: wrap;
    }
    
    .heart-btn {
        padding: 10px 24px;
        font-size: 16px;
        min-width: 100px;
    }
    
    .no-attempts-text {
        font-size: 13px;
    }
    
    /* Celebration Screen */
    .celebration-container {
        padding: 20px 12px;
    }
    
    .celebration-hearts {
        gap: 12px;
        margin-bottom: 15px;
    }
    
    .big-heart {
        font-size: 32px;
    }
    
    .celebration-title {
        font-size: clamp(28px, 7vw, 40px);
        margin: 10px 0;
    }
    
    .romantic-message {
        margin: 15px 0;
    }
    
    .message-line {
        font-size: 15px;
    }
    
    .hearts-ring {
        width: 120px;
        height: 120px;
        margin: 20px auto;
    }
    
    .orbit-heart {
        font-size: 18px;
    }
    
    @keyframes orbit {
        0% {
            transform: rotate(0deg) translateX(60px) rotate(0deg);
        }
        100% {
            transform: rotate(360deg) translateX(60px) rotate(-360deg);
        }
    }
    
    .love-quote {
        font-size: 15px;
        margin-top: 15px;
    }
    
    .pixel-date-bar {
        font-size: 13px;
        padding: 6px 10px;
    }
    
    .bg-heart {
        font-size: 18px;
    }
    
    .floating-heart {
        font-size: 14px;
    }
    
    .cursor-heart {
        font-size: 12px;
    }
}

/* Tablets and Small Laptops */
@media (min-width: 641px) and (max-width: 1024px) {
    .inner-card {
        max-width: 580px;
        padding: 28px 20px 24px;
    }
    
    .big-intro {
        font-size: clamp(44px, 7vw, 56px);
    }
    
    .photo-frame {
        width: 200px;
        height: 200px;
    }
    
    .question-title {
        font-size: clamp(38px, 6vw, 50px);
    }
    
    .hearts-ring {
        width: 140px;
        height: 140px;
    }
    
    .orbit-heart {
        font-size: 20px;
    }
    
    @keyframes orbit {
        0% {
            transform: rotate(0deg) translateX(70px) rotate(0deg);
        }
        100% {
            transform: rotate(360deg) translateX(70px) rotate(-360deg);
        }
    }
}

/* Landscape Mobile Phones */
@media (max-height: 600px) and (orientation: landscape) {
    .inner-card {
        padding: 16px 20px;
        max-height: 90vh;
        overflow-y: auto;
    }
    
    .big-intro {
        font-size: 32px;
        margin: 4px 0 0;
    }
    
    .intro-dots {
        margin: 2px 0 8px;
    }
    
    .photo-frame {
        width: 140px;
        height: 140px;
        margin: 8px auto 10px;
    }
    
    .question-title {
        font-size: 32px;
        margin: 2px 0 4px;
    }
    
    .question-subtitle {
        font-size: 13px;
        margin: 0 auto 8px;
    }
    
    .love-meter-container {
        margin: 8px auto 12px;
    }
    
    .celebration-container {
        padding: 16px 12px;
    }
    
    .celebration-hearts {
        margin-bottom: 10px;
    }
    
    .big-heart {
        font-size: 28px;
    }
    
    .celebration-title {
        font-size: 28px;
        margin: 8px 0;
    }
    
    .romantic-message {
        margin: 10px 0;
    }
    
    .message-line {
        font-size: 14px;
        margin: 4px 0;
    }
    
    .hearts-ring {
        width: 100px;
        height: 100px;
        margin: 12px auto;
    }
    
    .orbit-heart {
        font-size: 16px;
    }
    
    @keyframes orbit {
        0% {
            transform: rotate(0deg) translateX(50px) rotate(0deg);
        }
        100% {
            transform: rotate(360deg) translateX(50px) rotate(-360deg);
        }
    }
    
    .love-quote {
        font-size: 14px;
        margin-top: 10px;
    }
    
    .pixel-date-bar {
        padding: 4px 8px;
        font-size: 12px;
    }
}

/* Very Small Devices */
@media (max-width: 375px) {
    .inner-card {
        padding: 20px 12px 16px;
    }
    
    .big-intro {
        font-size: clamp(30px, 9vw, 40px);
    }
    
    .photo-frame {
        width: 160px;
        height: 160px;
    }
    
    .question-title {
        font-size: clamp(28px, 7vw, 36px);
    }
    
    .heart-btn {
        padding: 8px 20px;
        font-size: 15px;
        min-width: 90px;
    }
    
    .celebration-title {
        font-size: clamp(24px, 6vw, 32px);
    }
    
    .hearts-ring {
        width: 100px;
        height: 100px;
    }
    
    @keyframes orbit {
        0% {
            transform: rotate(0deg) translateX(50px) rotate(0deg);
        }
        100% {
            transform: rotate(360deg) translateX(50px) rotate(-360deg);
        }
    }
}

/* Large Screens - Enhance visual effects */
@media (min-width: 1440px) {
    .inner-card {
        max-width: 720px;
        padding: 40px 32px 36px;
    }
    
    .big-intro {
        font-size: 64px;
    }
    
    .photo-frame {
        width: 260px;
        height: 260px;
    }
    
    .question-title {
        font-size: 58px;
    }
    
    .hearts-ring {
        width: 180px;
        height: 180px;
    }
    
    .orbit-heart {
        font-size: 28px;
    }
    
    @keyframes orbit {
        0% {
            transform: rotate(0deg) translateX(90px) rotate(0deg);
        }
        100% {
            transform: rotate(360deg) translateX(90px) rotate(-360deg);
        }
    }
    
    .celebration-title {
        font-size: 52px;
    }
    
    .big-heart {
        font-size: 48px;
    }
}
